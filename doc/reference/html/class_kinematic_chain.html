<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Graspit: KinematicChain Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>KinematicChain Class Reference</h1><!-- doxytag: class="KinematicChain" -->A serial chain of links connected by joints.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="kinematic_chain_8h-source.html">kinematicChain.h</a>&gt;</code>
<p>

<p>
<a href="class_kinematic_chain-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#dbdef58895def44e42f95cbe969c2c78">KinematicChain</a> (<a class="el" href="class_robot.html">Robot</a> *r, int chainNumber, int jointNum)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#6618199b0332faa968ee7ccbbeb30c59">~KinematicChain</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#97f338eb596094cf3ce6ace09cae16f5">linkJacobian</a> (bool worldCoords) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Builds the complete link jacobian wrt to dynamic joints of this chain.  <a href="#97f338eb596094cf3ce6ace09cae16f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#a132f15c8c745e7c6d895ac58ddbe031">contactJacobian</a> (bool worldCoords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Builds the complete contact jacobian wrt to dynamic joints of this chain.  <a href="#a132f15c8c745e7c6d895ac58ddbe031"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#4ffd998c7369b92f9b91ca617041ca2e">activeLinkJacobian</a> (bool worldCoords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Builds the link jacobian but removes the rows corresponding to links that have no contacts.  <a href="#4ffd998c7369b92f9b91ca617041ca2e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#eaf509977708baf7f45e19a636ca4a65">activeContactJacobian</a> (bool worldCoords)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Only keeps rows that correspond to allowable contact forces (as contact forces are not 6-dof).  <a href="#eaf509977708baf7f45e19a636ca4a65"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#3aa9ff25f1309cafb057dccd2f0d29c7">actuatedJacobian</a> (const <a class="el" href="class_matrix.html">Matrix</a> &amp;fullColumnJ) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a matrix that only contains the columns of the Jacobian that correspond to actuated joint dofs.  <a href="#3aa9ff25f1309cafb057dccd2f0d29c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#8256347c713e20c3c896a80524b374e3">frictionForcesMatrix</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#96e271dfff382b08fe75d90e0d34926e">frictionConstraintsMatrix</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#d800ad1e8d79348dce1e6c278b041eef">contactForcesToWorldWrenches</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#a61d4238ddc5d863ccf7f596b04663ae">jointTorquesVector</a> (<a class="el" href="class_matrix.html">Matrix</a> fullRobotTorques)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#e61be338cd36ee2f71ffe70671cb61c5">processComputedStaticForces</a> (<a class="el" href="class_matrix.html">Matrix</a> f, int numEntriesPerContact)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classvec3.html">vec3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#8f4cd30d3bfd15107ffc223ee325021b">contactForceResultant</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds up all the (dynamic) contact forces on this chain in the world coord system.  <a href="#8f4cd30d3bfd15107ffc223ee325021b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#0de304b77325032421972eb14ec013fa">getNumContacts</a> (<a class="el" href="class_body.html">Body</a> *body)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of contacts between links of this chain and a given object.  <a href="#0de304b77325032421972eb14ec013fa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#ac832f35710367b01d850cf19591ddaa">initChain</a> (QTextStream &amp;stream, QString &amp;linkDir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#d5ae3407283e84c8c794939d364946e1">cloneFrom</a> (const <a class="el" href="class_kinematic_chain.html">KinematicChain</a> *original)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#531e07166890a948e779fb52c5aa872d">setJointValues</a> (const double *jointVals)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets joint values (without updating poses) based on a vector with values for all robot joints.  <a href="#531e07166890a948e779fb52c5aa872d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#9aa8319c3544124971efee988c4a7c58">getJointValues</a> (double *jointVals) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets joint values in a vector with values for all robot joints.  <a href="#9aa8319c3544124971efee988c4a7c58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#b914e6cb865f2c58c92683c19e6cec65">fwdKinematics</a> (const double *jointVals, std::vector&lt; <a class="el" href="classtransf.html">transf</a> &gt; &amp;newLinkTranVec) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the link transforms that correspond to a given set of joint values.  <a href="#b914e6cb865f2c58c92683c19e6cec65"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#080f4deec5f4aff1c4c3d5e51833c202">infinitesimalMotion</a> (const double *jointVals, std::vector&lt; <a class="el" href="classtransf.html">transf</a> &gt; &amp;newLinkTranVec) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the link transforms for an infinitesimal joint motion in specified direction.  <a href="#080f4deec5f4aff1c4c3d5e51833c202"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#da3efab0e07cb21b08b97f8b228b763e">updateLinkPoses</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the transforms of the links to match the current joint values.  <a href="#da3efab0e07cb21b08b97f8b228b763e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#8d0bc88e0194d24c91fbaebc124dda89">filterCollisionReport</a> (<a class="el" href="collision_structures_8h.html#56044fe7fffe7044c92ff5bfae3d56b6">CollisionReport</a> &amp;colReport)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Keep in the report only those collisions which involve at least a link from this chain.  <a href="#8d0bc88e0194d24c91fbaebc124dda89"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#04e4307574eb9dd24e41082aebe17dfe">accumulateStaticLinkForcesWithJacobian</a> (const <a class="el" href="class_matrix.html">Matrix</a> &amp;jointTorques)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the static forces that keep the chain in the current <a class="el" href="classposition.html" title="A 3-dimensional position and methods to operate on them.">position</a> using the Jacobian.  <a href="#04e4307574eb9dd24e41082aebe17dfe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#6918be6a927c030e35978e4c7ea30857">attachRobot</a> (<a class="el" href="class_robot.html">Robot</a> *r, const <a class="el" href="classtransf.html">transf</a> &amp;offsetTr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#fe45b84698018f03ee904d144c88d222">detachRobot</a> (<a class="el" href="class_robot.html">Robot</a> *r)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_robot.html">Robot</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#87a437d986da61d7bb58b2bca959b189">getOwner</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#ba92fabd3307ff88cf5fb9f39841c1a3">getNumJoints</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#104855d4aa257e39637d83740cb99453">getNumLinks</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_joint.html">Joint</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#6f053cf6ccf75a5db832a348d1a9cfd1">getJoint</a> (int i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_link.html">Link</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#c6c2563b63ca06b1c676350c2eaa2740">getLink</a> (int i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#dafce38d495c739f2cb533ca3267c5ad">getLastJoint</a> (int i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">SoSeparator *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#c74e7fb61759740c2fe892654f9e42b9">getIVRoot</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">SoTransform *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#253d900537ca8949dbc6ab439ef32a3c">getIVTran</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classtransf.html">transf</a> const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#cb093ca837edfbcfe3bb57e1563b0a58">getTran</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#3f8a481c110331a227cc03fd8d72eb04">jointsHaveMoved</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#896f7c9b98b86098b091ddb04ad750c8">getNumAttachedRobots</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_robot.html">Robot</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#f1418f89c2d573c1b0d88f7870a3d76f">getAttachedRobot</a> (int i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classtransf.html">transf</a> const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinematic_chain.html#b7143fa62eec6f4f5781e4309b118357">getAttachedRobotOffset</a> (int i) const </td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A serial chain of links connected by joints. 
<p>
A kinematicChain is a serial chain of links connected by joints. In a robot hand each finger is a kinematic chain. A chain can also have any number of robots attached to its end. For example, a robot hand can be connected to the end of an arm's kinematic chain. Each chain has a base transform that relates the start of the chain to the base frame of the robot. Given values for the joint positions, this class solves the forward kinematics for each link in the chain.<p>
In general, the only way that robot links should ever be moved is through the kinematic chains: the robot asks the dof's for joint values, tells the chains to set those values then tells the chains to update link poses. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="dbdef58895def44e42f95cbe969c2c78"></a><!-- doxytag: member="KinematicChain::KinematicChain" ref="dbdef58895def44e42f95cbe969c2c78" args="(Robot *r, int chainNumber, int jointNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KinematicChain::KinematicChain           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_robot.html">Robot</a> *&nbsp;</td>
          <td class="paramname"> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chainNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>jointNum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The constructor is called from a robot's load method, and requires a a pointer to the robot owning this chain, and the index of which chain this is within the robot. 
</div>
</div><p>
<a class="anchor" name="6618199b0332faa968ee7ccbbeb30c59"></a><!-- doxytag: member="KinematicChain::~KinematicChain" ref="6618199b0332faa968ee7ccbbeb30c59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KinematicChain::~KinematicChain           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The destructor deletes each of the joints in this chain, and asks the world to delete each of the links in the chain. It also detaches any connected robots. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="04e4307574eb9dd24e41082aebe17dfe"></a><!-- doxytag: member="KinematicChain::accumulateStaticLinkForcesWithJacobian" ref="04e4307574eb9dd24e41082aebe17dfe" args="(const Matrix &amp;jointTorques)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinematicChain::accumulateStaticLinkForcesWithJacobian           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>jointTorques</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the static forces that keep the chain in the current <a class="el" href="classposition.html" title="A 3-dimensional position and methods to operate on them.">position</a> using the Jacobian. 
<p>
Given a set of joint torques, performs a quasi-static force balance computation to compute the contact forces that balance the system. It is possible that no such forces exist, in which case the contacts will slip. Legal contact forces that balance the fingers might not balance the object too - the resultant might be an unbalanced force. After this is done, the unbalanced object force can be computes as well.<p>
Return codes: 0 is success, &gt;0 means finger slip, no legal contact forces exist; &lt;0 means error in computation 
</div>
</div><p>
<a class="anchor" name="eaf509977708baf7f45e19a636ca4a65"></a><!-- doxytag: member="KinematicChain::activeContactJacobian" ref="eaf509977708baf7f45e19a636ca4a65" args="(bool worldCoords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::activeContactJacobian           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>worldCoords</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Only keeps rows that correspond to allowable contact forces (as contact forces are not 6-dof). 
<p>
Build the full contact jacobian, then only keeps some of the rows. For now, we only keep the 3 rows that in the transpose Jacobian correspond to the force component of the contact wrench. In the future, we should also keep the torsional friction component, for soft contacts. 
</div>
</div><p>
<a class="anchor" name="4ffd998c7369b92f9b91ca617041ca2e"></a><!-- doxytag: member="KinematicChain::activeLinkJacobian" ref="4ffd998c7369b92f9b91ca617041ca2e" args="(bool worldCoords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::activeLinkJacobian           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>worldCoords</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Builds the link jacobian but removes the rows corresponding to links that have no contacts. 
<p>
The active link jacobian will build the regular link Jacobian, then only keep the rows that correspond to links that have at least one contact (as links with no contacts can not external forces applied to them). 
</div>
</div><p>
<a class="anchor" name="3aa9ff25f1309cafb057dccd2f0d29c7"></a><!-- doxytag: member="KinematicChain::actuatedJacobian" ref="3aa9ff25f1309cafb057dccd2f0d29c7" args="(const Matrix &amp;fullColumnJ) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::actuatedJacobian           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>fullColumnJ</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a matrix that only contains the columns of the Jacobian that correspond to actuated joint dofs. 
<p>
This function takes a Jacobian with all columns (6dof per joint and returns a version that has only those columns that correspond to the actuated dofs in each joint (e.g. the z axis for revolute joints) 
</div>
</div><p>
<a class="anchor" name="6918be6a927c030e35978e4c7ea30857"></a><!-- doxytag: member="KinematicChain::attachRobot" ref="6918be6a927c030e35978e4c7ea30857" args="(Robot *r, const transf &amp;offsetTr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::attachRobot           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_robot.html">Robot</a> *&nbsp;</td>
          <td class="paramname"> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtransf.html">transf</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>offsetTr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a pointer to another robot and an offset transform of the base frame of the robot with respect to the end transform of the link of this chain. 
</div>
</div><p>
<a class="anchor" name="d5ae3407283e84c8c794939d364946e1"></a><!-- doxytag: member="KinematicChain::cloneFrom" ref="d5ae3407283e84c8c794939d364946e1" args="(const KinematicChain *original)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::cloneFrom           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_kinematic_chain.html">KinematicChain</a> *&nbsp;</td>
          <td class="paramname"> <em>original</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates an indentical copy of another chain, sharing things such as geometry<p>
Copies this chain structure from an existing chain. All joints are set to independent copies of the original chain. All links are created as clones of the links from the original chain. 
</div>
</div><p>
<a class="anchor" name="8f4cd30d3bfd15107ffc223ee325021b"></a><!-- doxytag: member="KinematicChain::contactForceResultant" ref="8f4cd30d3bfd15107ffc223ee325021b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvec3.html">vec3</a> KinematicChain::contactForceResultant           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds up all the (dynamic) contact forces on this chain in the world coord system. 
<p>
Takes all the contact forces that have been pre-set (presumably by dynamics), converts them to world coords and adds them up in a resultant force. There is overlap with processComputedStaticForces, which sets contact forces differently, but then adds them up as well. todo: unify this into a good architecture 
</div>
</div><p>
<a class="anchor" name="d800ad1e8d79348dce1e6c278b041eef"></a><!-- doxytag: member="KinematicChain::contactForcesToWorldWrenches" ref="d800ad1e8d79348dce1e6c278b041eef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::contactForcesToWorldWrenches           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Builds the matrix that transforms forces in contact frame to wrenches applied on the other object, expressed in world <a class="el" href="classcoordinates.html" title="This is the base class for various coordinate representations.">coordinates</a>. 
</div>
</div><p>
<a class="anchor" name="a132f15c8c745e7c6d895ac58ddbe031"></a><!-- doxytag: member="KinematicChain::contactJacobian" ref="a132f15c8c745e7c6d895ac58ddbe031" args="(bool worldCoords)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::contactJacobian           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>worldCoords</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Builds the complete contact jacobian wrt to dynamic joints of this chain. 
<p>
The contact jacobian relates joint angle changes to motion at the points of contact. Its transpose relates contact forces to joint forces. 
</div>
</div><p>
<a class="anchor" name="fe45b84698018f03ee904d144c88d222"></a><!-- doxytag: member="KinematicChain::detachRobot" ref="fe45b84698018f03ee904d144c88d222" args="(Robot *r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::detachRobot           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_robot.html">Robot</a> *&nbsp;</td>
          <td class="paramname"> <em>r</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This separates the robot pointed to by r from this kinematic chain, allowing them to move independently. 
</div>
</div><p>
<a class="anchor" name="8d0bc88e0194d24c91fbaebc124dda89"></a><!-- doxytag: member="KinematicChain::filterCollisionReport" ref="8d0bc88e0194d24c91fbaebc124dda89" args="(CollisionReport &amp;colReport)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::filterCollisionReport           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="collision_structures_8h.html#56044fe7fffe7044c92ff5bfae3d56b6">CollisionReport</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>colReport</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Keep in the report only those collisions which involve at least a link from this chain. 
<p>
Filters a collision report and keeps only collisions of a particular chain For now it also throws out collisions between robot parts, as those are giving us problems. 
</div>
</div><p>
<a class="anchor" name="96e271dfff382b08fe75d90e0d34926e"></a><!-- doxytag: member="KinematicChain::frictionConstraintsMatrix" ref="96e271dfff382b08fe75d90e0d34926e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::frictionConstraintsMatrix           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes inequality constraint matrix that compares normal force and friction for each contact 
</div>
</div><p>
<a class="anchor" name="8256347c713e20c3c896a80524b374e3"></a><!-- doxytag: member="KinematicChain::frictionForcesMatrix" ref="8256347c713e20c3c896a80524b374e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::frictionForcesMatrix           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the transformation matrix that multiplies friction amplitudes by friction wrench direction and adds normal force amplitudes 
</div>
</div><p>
<a class="anchor" name="b914e6cb865f2c58c92683c19e6cec65"></a><!-- doxytag: member="KinematicChain::fwdKinematics" ref="b914e6cb865f2c58c92683c19e6cec65" args="(const double *jointVals, std::vector&lt; transf &gt; &amp;newLinkTranVec) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::fwdKinematics           </td>
          <td>(</td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>jointVals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classtransf.html">transf</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>newLinkTranVec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute the link transforms that correspond to a given set of joint values. 
<p>
Given a array of joint values for each joint in the chain, this method will compute the transforms for each link in the chain with respect to world <a class="el" href="classcoordinates.html" title="This is the base class for various coordinate representations.">coordinates</a>. It does not affect the chain itself. 
</div>
</div><p>
<a class="anchor" name="f1418f89c2d573c1b0d88f7870a3d76f"></a><!-- doxytag: member="KinematicChain::getAttachedRobot" ref="f1418f89c2d573c1b0d88f7870a3d76f" args="(int i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_robot.html">Robot</a>* KinematicChain::getAttachedRobot           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the i-th robot attached to the end of the chain 
</div>
</div><p>
<a class="anchor" name="b7143fa62eec6f4f5781e4309b118357"></a><!-- doxytag: member="KinematicChain::getAttachedRobotOffset" ref="b7143fa62eec6f4f5781e4309b118357" args="(int i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtransf.html">transf</a> const&amp; KinematicChain::getAttachedRobotOffset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the offset transform between the end of the chain and the base of the i-th attached robot 
</div>
</div><p>
<a class="anchor" name="c74e7fb61759740c2fe892654f9e42b9"></a><!-- doxytag: member="KinematicChain::getIVRoot" ref="c74e7fb61759740c2fe892654f9e42b9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SoSeparator* KinematicChain::getIVRoot           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to the root of the chain's Inventor scene graph 
</div>
</div><p>
<a class="anchor" name="253d900537ca8949dbc6ab439ef32a3c"></a><!-- doxytag: member="KinematicChain::getIVTran" ref="253d900537ca8949dbc6ab439ef32a3c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SoTransform* KinematicChain::getIVTran           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to the Inventor transform corresponding to the base transform of the chain 
</div>
</div><p>
<a class="anchor" name="6f053cf6ccf75a5db832a348d1a9cfd1"></a><!-- doxytag: member="KinematicChain::getJoint" ref="6f053cf6ccf75a5db832a348d1a9cfd1" args="(int i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_joint.html">Joint</a>* KinematicChain::getJoint           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to the i-th joint in the chain 
</div>
</div><p>
<a class="anchor" name="9aa8319c3544124971efee988c4a7c58"></a><!-- doxytag: member="KinematicChain::getJointValues" ref="9aa8319c3544124971efee988c4a7c58" args="(double *jointVals) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::getJointValues           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>jointVals</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets joint values in a vector with values for all robot joints. 
<p>
Reads in the current values of the joints in this chain, and uses them to populate the vector <em>jointVals</em>. This vector is ordered to contain all the joints of the robot (not only of this chain) and joints are indexed by their number in the robot structure, not in this chain's struture. 
</div>
</div><p>
<a class="anchor" name="dafce38d495c739f2cb533ca3267c5ad"></a><!-- doxytag: member="KinematicChain::getLastJoint" ref="dafce38d495c739f2cb533ca3267c5ad" args="(int i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinematicChain::getLastJoint           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the index of the last joint in the chain that affects the pose of link i 
</div>
</div><p>
<a class="anchor" name="c6c2563b63ca06b1c676350c2eaa2740"></a><!-- doxytag: member="KinematicChain::getLink" ref="c6c2563b63ca06b1c676350c2eaa2740" args="(int i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_link.html">Link</a>* KinematicChain::getLink           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to the i-th link in the chain 
</div>
</div><p>
<a class="anchor" name="896f7c9b98b86098b091ddb04ad750c8"></a><!-- doxytag: member="KinematicChain::getNumAttachedRobots" ref="896f7c9b98b86098b091ddb04ad750c8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinematicChain::getNumAttachedRobots           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of robots attached to the end of the chain 
</div>
</div><p>
<a class="anchor" name="0de304b77325032421972eb14ec013fa"></a><!-- doxytag: member="KinematicChain::getNumContacts" ref="0de304b77325032421972eb14ec013fa" args="(Body *body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinematicChain::getNumContacts           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_body.html">Body</a> *&nbsp;</td>
          <td class="paramname"> <em>body</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of contacts between links of this chain and a given object. 
<p>
Returns the number of contacts between the links of this chain and the object <em>body</em>. If <em>body</em> == NULL, returns the total number of contacts, regardless of what object they are against. Todo: what about self-colision? 
</div>
</div><p>
<a class="anchor" name="ba92fabd3307ff88cf5fb9f39841c1a3"></a><!-- doxytag: member="KinematicChain::getNumJoints" ref="ba92fabd3307ff88cf5fb9f39841c1a3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinematicChain::getNumJoints           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of joints in the chain 
</div>
</div><p>
<a class="anchor" name="104855d4aa257e39637d83740cb99453"></a><!-- doxytag: member="KinematicChain::getNumLinks" ref="104855d4aa257e39637d83740cb99453" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinematicChain::getNumLinks           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of links in the chain 
</div>
</div><p>
<a class="anchor" name="87a437d986da61d7bb58b2bca959b189"></a><!-- doxytag: member="KinematicChain::getOwner" ref="87a437d986da61d7bb58b2bca959b189" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_robot.html">Robot</a>* KinematicChain::getOwner           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the robot that owns this chain 
</div>
</div><p>
<a class="anchor" name="cb093ca837edfbcfe3bb57e1563b0a58"></a><!-- doxytag: member="KinematicChain::getTran" ref="cb093ca837edfbcfe3bb57e1563b0a58" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtransf.html">transf</a> const&amp; KinematicChain::getTran           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the base transform of the chain relative to the robot base 
</div>
</div><p>
<a class="anchor" name="080f4deec5f4aff1c4c3d5e51833c202"></a><!-- doxytag: member="KinematicChain::infinitesimalMotion" ref="080f4deec5f4aff1c4c3d5e51833c202" args="(const double *jointVals, std::vector&lt; transf &gt; &amp;newLinkTranVec) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::infinitesimalMotion           </td>
          <td>(</td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>jointVals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classtransf.html">transf</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>newLinkTranVec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute the link transforms for an infinitesimal joint motion in specified direction. 
<p>
Given an array of desired joint values, this computed an infinitesimal motion of each link as motion *from the current values* towards the desired values is started. Used mainly to see if any contacts prevent this motion. 
</div>
</div><p>
<a class="anchor" name="ac832f35710367b01d850cf19591ddaa"></a><!-- doxytag: member="KinematicChain::initChain" ref="ac832f35710367b01d850cf19591ddaa" args="(QTextStream &amp;stream, QString &amp;linkDir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinematicChain::initChain           </td>
          <td>(</td>
          <td class="paramtype">QTextStream &amp;&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString &amp;&nbsp;</td>
          <td class="paramname"> <em>linkDir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads the chain information from a text stream, expected in the standard format of GraspIt! .cfg robot files<p>
Sets up the chain given a stream from a currently open robot configuration file. It reads the number of joints and the number of links and allocates space for those vectors, then it reads in the base transform of the chain. Next, it reads a line for each joint and creates a prismatic or revolute joint which are initialized with the kinematic data in that line. <em>linkDir</em> should be the path to the directory where the link body files are kept. 
</div>
</div><p>
<a class="anchor" name="3f8a481c110331a227cc03fd8d72eb04"></a><!-- doxytag: member="KinematicChain::jointsHaveMoved" ref="3f8a481c110331a227cc03fd8d72eb04" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinematicChain::jointsHaveMoved           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the value of the flag indicating whether the joints have been moved since the last time the link poses have been updated 
</div>
</div><p>
<a class="anchor" name="a61d4238ddc5d863ccf7f596b04663ae"></a><!-- doxytag: member="KinematicChain::jointTorquesVector" ref="a61d4238ddc5d863ccf7f596b04663ae" args="(Matrix fullRobotTorques)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::jointTorquesVector           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td>
          <td class="paramname"> <em>fullRobotTorques</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a matrix with all the joint torques of the robot, numbered as in the the robot scheme, this extracts a vector of chain joint torques, in the order in which they appear in this chain 
</div>
</div><p>
<a class="anchor" name="97f338eb596094cf3ce6ace09cae16f5"></a><!-- doxytag: member="KinematicChain::linkJacobian" ref="97f338eb596094cf3ce6ace09cae16f5" args="(bool worldCoords) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix.html">Matrix</a> KinematicChain::linkJacobian           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>worldCoords</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Builds the complete link jacobian wrt to dynamic joints of this chain. 
<p>
The link jacobian relates joint angle changes to link movement. Its transpose relatef forces applied to link to forces applied to joints. If <em>worldCoords</em> is false, the jacobian is computed in each link's coordinate system. 
</div>
</div><p>
<a class="anchor" name="e61be338cd36ee2f71ffe70671cb61c5"></a><!-- doxytag: member="KinematicChain::processComputedStaticForces" ref="e61be338cd36ee2f71ffe70671cb61c5" args="(Matrix f, int numEntriesPerContact)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::processComputedStaticForces           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_matrix.html">Matrix</a>&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numEntriesPerContact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given its own set of contact forces, in contact coords, it converts them to world coords and adds them to the object accumulator, and also sets them for rendering purposes. Replicates the same thing from computeStatic..., but without the sanity checks; just sets the values. Input can be in the form of 3 entries per contact (just force) or 6 entries. Currently, torque entries are ignored even when present. todo: resolve the duplication from above 
</div>
</div><p>
<a class="anchor" name="531e07166890a948e779fb52c5aa872d"></a><!-- doxytag: member="KinematicChain::setJointValues" ref="531e07166890a948e779fb52c5aa872d" args="(const double *jointVals)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::setJointValues           </td>
          <td>(</td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>jointVals</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets joint values (without updating poses) based on a vector with values for all robot joints. 
<p>
Sets the current joint values from the vector <em>jointVals</em>. This vector is ordered to contain all the joints of the robot (not only of this chain) and joints are indexed by their number in the robot structure, not in this chain's struture. 
</div>
</div><p>
<a class="anchor" name="da3efab0e07cb21b08b97f8b228b763e"></a><!-- doxytag: member="KinematicChain::updateLinkPoses" ref="da3efab0e07cb21b08b97f8b228b763e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinematicChain::updateLinkPoses           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the transforms of the links to match the current joint values. 
<p>
Computes forward kinematics for the current joint values, then sets the link transforms accordingly. This is the only way that robot links should ever be moved (the robot asks the dof' for joint values, tells the chains to set those values then tells the chains to update link poses). 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Documents and Settings/cmatei/My Documents/Graspit/include/<a class="el" href="kinematic_chain_8h-source.html">kinematicChain.h</a><li>C:/Documents and Settings/cmatei/My Documents/Graspit/src/kinematicChain.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 27 10:54:29 2009 for Graspit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
